<div [ngClass]="styleClass">
  <div *ngFor="let accordion of accordionComponents" 
        [ngClass]="accordion.styleClass"       
        [class.card-outline]="!accordion.isSolid"
        mkColorPrefix="card">

    <div [ngClass]="accordion.headerStyleClass" [class.no-border]="accordion.isCollapsed && !accordion.isCollapsing">
      <h4 class="card-title">
        <a [mkAccordionToggle]="accordion" href="#" [mkFontColor]="accordion.headerStyleColor" [class.collapsed]="accordion.isCollapsed">
          {{accordion.header}}
          <ng-template *ngIf="!accordion.header" [ngTemplateOutlet]="accordion.accordionHeaderComponent?.templateRef"></ng-template>
        </a>        
      </h4>
      <button type="button" [mkAccordionToggle]="accordion" [ngClass]="accordion.buttonsStyleClass" 
              style="float: right !important; right: 0 !important; left: auto !important;"> 
        <i class="fa" [ngClass]="{'fas fa-angle-down': accordion.isCollapsed, 'fas fa-angle-up': !accordion.isCollapsed}"></i>
      </button>         
    </div>

    <div class="panel-collapse" 
         [mkCollapseAnimation]="accordion.isCollapsed"
         (mkCollapseAnimation.start)="collapseStart($event, accordion)" 
         (mkCollapseAnimation.done)="collapseDone($event, accordion)">

      <div [ngClass]="accordion.contentStyleClass" [mkFontColor]="accordion.contentColor">
        <ng-template [ngTemplateOutlet]="accordion.contentTemplateRef"></ng-template>
      </div>      
    </div>

  </div>
</div>
